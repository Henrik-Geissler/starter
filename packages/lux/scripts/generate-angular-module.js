const fs = require('fs');
const path = require('path');

const moduleContent = `import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';
import * as d from './src/components';

/**
 * @experimental
 * Lux Angular Module - Auto-generated by Stencil
 */
@NgModule({
  declarations: [
    d.LuxButton,
    d.LuxCard,
    d.LuxHeading,
    d.LuxIcon,
    d.LuxScope,
    d.LuxTab,
    d.LuxTable,
    d.LuxTabs,
    d.LuxText,
  ],
  exports: [
    d.LuxButton,
    d.LuxCard,
    d.LuxHeading,
    d.LuxIcon,
    d.LuxScope,
    d.LuxTab,
    d.LuxTable,
    d.LuxTabs,
    d.LuxText,
  ],
  schemas: [CUSTOM_ELEMENTS_SCHEMA],
})
export class LuxModule {}
`;

const modulePath = path.join(__dirname, '../dist/angular/lux.module.ts');
const distDir = path.dirname(modulePath);

// Ensure dist/angular directory exists
if (!fs.existsSync(distDir)) {
  fs.mkdirSync(distDir, { recursive: true });
}

// Write the module file
fs.writeFileSync(modulePath, moduleContent, 'utf8');
console.log('Generated Angular module at:', modulePath);
